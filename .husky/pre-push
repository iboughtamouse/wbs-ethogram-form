echo "ğŸ” Running tests for changes since main..."
npm test -- --changedSince=main --passWithNoTests || {
  echo "âš ï¸  Could not determine changed files, running full suite..."
  npm test || { echo "âŒ Tests failed. Push blocked."; exit 1; }
}

echo "âœ… Tests passed."
